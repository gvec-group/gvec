# =================================================================================================================================
# Stage "build"
# =================================================================================================================================

spec:
  inputs:
    env:
      description: Name of the environment, e.g. `.mpcdfci_ifx-latest`
      default: .mpcdfci_ifx-latest
    vars:
      description: Template with variables or parallel:matrix
      default: .vars_matrix_unit
    rules:
      description: Rules for the job, e.g. `.rules_default`
      default: .rules_default

---

build.pip$[[ inputs.env ]]:
  stage: build
  extends:
    - $[[ inputs.env ]]
    - .before_script_modules
    - .script_build_pip
    - $[[ inputs.vars ]]
    - $[[ inputs.rules ]]
  needs:
    - env$[[ inputs.env ]]
